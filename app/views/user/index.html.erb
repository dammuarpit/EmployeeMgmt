<ol class="breadcrumb">
  <li><%= link_to 'Dashboard', home_page_path %></li>
  <li class="active">Users</li>
</ol>

<h1>Listing Users</h1>

<div class="table-responsive">
  Here shows all users
  <table class="table table-striped table-hover table-bordered">
    <thead>
    <tr>
      <th>Username</th>
      <th>Age</th>
      <th>Email</th>
      <th>Roles</th>
      <th>Show</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
    </thead>
    <tbody>
    <% @users.each do |user| %>
        <tr>
          <td><%=user.username %></td>
          <td><%=user.age %></td>
          <td><%=user.email %></td>
          <td><%=user.role_id.blank? ? 'no role' : user.role_id.to_a.map { |id| Role.find_by(id: id).name }.join(',') %></td>
          <td><%= link_to 'Show', user, 'class' => "btn btn-default" %></td>
          <td><%= link_to 'Edit', edit_user_path(user), 'class' => "btn btn-default" %></td>
          <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' }, 'class' => "btn btn-default" %></td>
        </tr>
    <% end %>
    </tbody>
  </table>
</div>


